<h2 mat-dialog-title>
  @if(action=='Block' && local_data.blocked) {
  Unblock {{ local_data.firstname }} {{ local_data.lastname }}
} @else {
  {{action}} {{ local_data.firstname }} {{ local_data.lastname }}
}</h2>

  @if(action !== 'Block') {
  <mat-dialog-content *ngIf="action === 'Add' || action ==='Update'" style="max-width: 500px" class="mat-typography m-t-24">
    <form [formGroup]="managerForm">
      <div class="row">
        <div class="col-sm-6 col-lg-12">
          <mat-form-field appearance="outline" class="w-100">
            <input formControlName="firstname" type="text" matInput required id="firstname" name="firstname"
              placeholder="firstname" />
          </mat-form-field>
        </div>
        <div class="col-sm-6 col-lg-12">
          <mat-form-field appearance="outline" class="w-100">
            <input formControlName="lastname" type="text" matInput required id="lastname" name="lastname"
              placeholder="lastname" />
          </mat-form-field>
        </div>
        <div class="col-sm-6 col-lg-12">
          <mat-form-field appearance="outline" class="w-100">
            <input formControlName="email" type="text" matInput required id="email" name="email"
              placeholder="email" />
          </mat-form-field>
        </div>
        <div class="col-sm-6 col-lg-12">
          <mat-form-field appearance="outline" class="w-100">
            <input formControlName="adresse" type="text" matInput required id="adresse" name="adresse"
              placeholder="adresse" />
          </mat-form-field>
        </div>
        <div class="col-sm-6 col-lg-12">
          <mat-form-field appearance="outline" class="w-100">
            <input formControlName="telephone" type="text" matInput required id="telephone" name="telephone"
              placeholder="telephone" />
          </mat-form-field>
        </div>
        <div class="col-sm-6 col-lg-12">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Type de Role</mat-label>
            <select formControlName="role" matNativeControl required id="role" name="role" placeholder="Role" (change)="onRoleChange($event)">
              <option value="STAFF">Staff</option>
              <option value="ENTRAINEUR">Entraineur</option>
              <option value="ADHERENT">Adherent</option>
              <option value="PARENT">Parent</option>
            </select>
          </mat-form-field>
        </div>
        <div *ngIf="showRoleInput" class="col-sm-6 col-lg-12">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Role</mat-label>
            <select formControlName="roleName" matNativeControl required id="roleNames" name="roleNames" placeholder="Role">
              <option *ngFor="let roleName of roleNames" [value]="roleName">{{ roleName }}</option>
            </select>
          </mat-form-field>
        </div>
        <div>
          <button mat-flat-button color="primary" class="m-l-16 input-file-button">
            <input formControlName="photo" type="file" id="photo" name="photo" (change)="uploadFile($event)" #fileInput />
          </button>
          <div class="col-sm-6 col-lg-12">
            <img
              class="mat-card"
              [src]="local_data.photo"
              width="200"
            />
          </div>
        </div>
      
      </div>
    </form>
  </mat-dialog-content>
}
@else {
  <div class="p-x-24 p-b-24">
    <br>
    Sure to {{ local_data.blocked ? 'unblock' : 'block' }} <span class="f-w-600">{{ local_data.firstname }}</span>?
  </div>
}

  
<div mat-dialog-actions class="p-24 p-t-0">
  <button mat-flat-button (click)="doAction()" color="primary">
    @if(action=='Block' && local_data.blocked) {
      Unblock
    } @else {
      {{action}} 
    }
  </button>
  <button mat-stroked-button color="warn" (click)="closeDialog()">
    Cancel
  </button>
</div>
